<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>json</title>
    <script
      src="https://code.jquery.com/jquery-3.5.1.min.js"
      integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
      crossorigin="anonymous">
    </script>
    <link rel="javascript" href="./setlist.js">
    <script src="setlist.js"></script>
</head>
    
    
<body style= "margin: 30px;">
    
    <h2 style = "font-family: didot; font-weight: 700;">Serialized String Setlist:</h2>
    
    <script language ="javascript">
        
        serialized = new Array;
        
        for (i = 0; i < 10; i++) 
        {
            serialized[i] = JSON.stringify(playlist[i]);
            document.write(serialized[i]);
        }
                
    </script>    
    
    <br><br><hr>
    <h2 style = "font-family: didot; font-weight: 700">User Friendly Tracklist:</h2>

    <script language="javascript">
        
        neat = new Array;
        for (j = 0; j < 10; j++) 
        {
          neat[j] = JSON.parse(serialized[j]);
          document.write("<b>" + neat[j]['title'] + "</b><br>" +
                        "Artist: " + neat[j]['artist'] + "<br>" +
                        "Genre: " + neat[j]['genre'] + "<br>" +
                        "Released " + neat[j]['year_released'] + "<br><br>");
        }
        

        function genre_results() 
        {
            //alert("in genre result");
            document.getElementById("print_results").innerHTML = "";
            //alert ("???");
            var selected = document.getElementById("genre_list").value;
            //alert("yo??");
          
            //alert("going for");
            for (var k = 0; k < 15; k++) 
            {
                //alert("going second for");
                for (var m = 0; m < neat[k]['genre'].length; m++) 
                {
                    //alert("now going if");
                    if (neat[k]['genre'][m] == selected) 
                    {
                        //alert("get elementby ID should print out");
                        document.getElementById("print_results").innerHTML += (neat[k]['title'] + "<br>");
                    }
                }
            }
        }
      
    </script>
    
    <hr>
    <h2 style = "font-family: didot; font-weight: 700">Filtered Search:</h2>
    <p style = "font-size: 15px;">Select a Genre:</p>
    
    <form>
        <select id= "genre_list"> 
            <option value="dance">dance</option>
            <option value="pop">pop</option>
            <option value="country">country</option>
            <option value="kpop">korean pop</option>
        </select> &nbsp;
<!--        <br><br>-->
        <input type= "button" 
               style = "background-color: #86ae72; 
                        font-family: didot; 
                        padding: 2px 18px; 
                        border-color:#657c5a;"
               value= "filter" onclick= "genre_results()">
    </form>
    <br>
           
    
    <div style = "font-weight: 700px; font-size: 30px; font-family: didot;" id="print_results">
    </div>
    
    <br><br>
    
</body>
</html>
